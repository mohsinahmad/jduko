<?phpclass Access extends CI_Controller{    function __construct()    {        parent::__construct();        if (!($this->session->userdata('in_use'))) {            redirect('login', 'refresh');        }        $this->load->model('CompanyModel');        $this->load->model('AccessModel');    }    public function index($module)    {        if ($module == 'Accounts'){            $data['head'] = $this->CompanyModel->getHead();            $data['companydata'] = $this->CompanyModel->get_data();            $data['getusername'] = $this->AccessModel->getuser();            $data['getfeature'] = $this->AccessModel->getfeature(1);            $data['result'] = $this->AccessModel->getdata(1);            $this->load->view($module.'/header');            $this->load->view('access/index', $data);            $this->load->view('access/table');            $this->load->view($module.'/footer');            $this->load->view('access/accessJs');        }else{            $data['getusername'] = $this->AccessModel->getuser();            $data['getfeature'] = $this->AccessModel->getfeature(2);            $data['result'] = $this->AccessModel->getdata(2);            $this->load->view($module.'/header');            $this->load->view('Store/access/index', $data);            $this->load->view('Store/access/table');            $this->load->view($module.'/footer');            $this->load->view('Store/access/accessJs');        }    }    public function getfeatureid($id)    {        $featureid = $this->AccessModel->get_featureid($id);        $data = array('type' => $featureid[0]->FeatureType);        echo json_encode($data);    }    public function getdata($code)    {        $data = $this->AccessModel->get_data($code);        $company = array('level_name' => $data[0]->LevelName,            'level_code' => $data[0]->id);        echo json_encode($company);    }    public function SaveData()    {        $checks = $this->AccessModel->save_data();        foreach ($checks as $check){            if ($check === 11) {                $response = array('match' => "ok");            } elseif ($check === 12) {                $response = array('emptyCheckbox' => "ok");            } else if ($check == "true") {                $response = array('success' => "ok");            } else {                $response = array('error' => "ok");            }        }        echo json_encode($response);    }    public function SaveDataForStore()    {        $check = $this->AccessModel->Save_Data_for_Store();        if ($check === 11) {            $response = array('match' => "ok");        } elseif ($check === 12) {            $response = array('emptyCheckbox' => "ok");        } else if ($check == 1) {            $response = array('success' => "ok");        } else {            $response = array('error' => "ok");        }        echo json_encode($response);    }    public function DeleteData($id)    {        $check = $this->AccessModel->delete_data($id);        if ($check) {            $response = array('success' => "ok", 'message' => " حق ضبط کردیا گیا ہے");        } else {            $response = array('error' => "ok", 'message' => "حق ضبط نہیں ہوا ہے");        }        echo json_encode($response);    }    public function CheckAccess($U_id,$F_id,$Level)    {        $rights = $this->AccessModel->check_access($U_id,$F_id,$Level);        echo json_encode($rights);    }}